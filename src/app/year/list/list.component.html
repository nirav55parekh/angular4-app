<app-search [rows]="years" [searchField]="searchField" [tempData]="temp" [searchList]="searchList" (searchEvent)="onSearch($event)"></app-search>

<ngx-datatable [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50" [rowHeight]="'auto'" class="material striped"
  [rows]="years" [columns]="[{name:'Year'},{name:'Make'},{name:'Model'},{name:'Programs'}]" [sorts]="[{prop: 'name', dir: 'asc'}]"
  [rowHeight]="'auto'" [limit]="searchComp.rowlimit">
  <ngx-datatable-column name="#">
    <ng-template let-rowIndex="rowIndex" let-row="row" ngx-datatable-cell-template>
      <strong>{{rowIndex+1}}</strong>
    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column name="Year">
    <ng-template let-row="row" ngx-datatable-cell-template>
      {{row.name}}
    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column name="Make">
    <ng-template let-row="row" ngx-datatable-cell-template>
      {{ (row.make_id)? row.make_id.name:""}}
    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column name="Model">
    <ng-template let-row="row" ngx-datatable-cell-template>
      {{ (row.model_id)? row.model_id.name:""}}
    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column name="Programs" [sortable]="false">
    <ng-template let-row="row" ngx-datatable-cell-template>
      <ul>
        <li *ngFor="let program of row.programs">{{program.name}}</li>
      </ul>
    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column [width]="200" name="Actions" [sortable]="false" [canAutoResize]="false" [draggable]="false" [resizeable]="false">
    <ng-template let-row="row" ngx-datatable-cell-template>
      <a class="btn btn-sm btn-warning" [routerLink]="['/home/years/edit',row.id]">
        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit
      </a>
      <a class="btn btn-sm btn-danger" (click)="deleteYear(row.id)">
        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Delete
      </a>
    </ng-template>
  </ngx-datatable-column>
</ngx-datatable>